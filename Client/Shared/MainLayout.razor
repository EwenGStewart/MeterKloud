@inherits LayoutComponentBase
<MudThemeProvider IsDarkMode="@_isDarkMode" Theme="_mudTheme" />
<MudPopoverProvider />
<MudDialogProvider />
<MudSnackbarProvider />
<style>
     .TopAppBar {

        
    }
</style>

<MudLayout>
    <MudAppBar Elevation="1" Dense Class="px-4 TopAppBar" Gutters="false">
        
        <MudIconButton  Icon="@Icons.Material.Filled.Menu" Color="Color.Primary" Edge="Edge.Start" OnClick="@((e) => DrawerToggle())" />
        <MudImage Src="/images/MeterKloudDrawTitleClear.png" ObjectFit="ObjectFit.ScaleDown" Height="36"></MudImage>
        <MudSpacer />
        <MudSwitch @bind-Value="_isDarkMode" Color="Color.Primary" Class="ma-4" T="bool" Label="Toggle Light/Dark Mode" />
        <MudIconButton Icon="@Icons.Material.Filled.MoreVert" Color="Color.Inherit" Edge="Edge.End" />
    </MudAppBar>
    <MudDrawer @bind-Open="_drawerOpen" Elevation="2" Variant="DrawerVariant.Mini" ClipMode="DrawerClipMode.Docked">

        @if (_drawerOpen)
        {

      
        }
        else
        {
            <style>
                .LeftMenuNavItem .mud-nav-link 
                {
                    padding-left:8px;
                }
            </style>
        }
        <MudNavMenu Bordered="@_drawerOpen" Rounded="@_drawerOpen" Class="mx-2" >
            <MudNavLink Class="LeftMenuNavItem" Icon="@Icons.Material.Filled.CloudUpload" Href="/upload">Upload</MudNavLink>
            <MudNavLink Class="LeftMenuNavItem" Icon="@Icons.Material.Filled.CloudDownload" Href="/download">Download</MudNavLink>
            <MudNavLink Class="LeftMenuNavItem" Icon="@Icons.Material.Filled.Warehouse" Href="/sites">Sites</MudNavLink>
            <MudNavLink Class="LeftMenuNavItem" Icon="@Icons.Material.Filled.Warehouse" Href="/sites">Sites</MudNavLink>
            <MudNavLink Class="LeftMenuNavItem" Icon="@Icons.Material.Filled.Grade" Href="/graphDailyConsumption">Daily</MudNavLink>
            <MudNavLink Class="LeftMenuNavItem" Icon="@Icons.Material.Filled.Gradient" Href="/graphDetailedConsumption">Detailed</MudNavLink>
            <MudNavLink Class="LeftMenuNavItem" Icon="@Icons.Material.Filled.Grading" Href="/GraphHeatMap">HeatMap</MudNavLink>
            <MudNavLink Class="LeftMenuNavItem" Icon="@Icons.Material.Filled.Grain" Href="/GraphProfileConsumption">Profile</MudNavLink>
            <MudNavLink Class="LeftMenuNavItem" Icon="@Icons.Material.Filled.GraphicEq" Href="/Graph3DConsumption">3D</MudNavLink>
            <MudNavLink Class="LeftMenuNavItem" Icon="@Icons.Material.Filled.Grass" Href="/GraphDemand">Demand</MudNavLink>


            <MudNavLink Class="LeftMenuNavItem" Icon="@Icons.Material.Filled.AttachMoney" Href="/Tariffs">Tariffs</MudNavLink>
        </MudNavMenu>

    </MudDrawer>
    <MudMainContent  >
        @Body
    </MudMainContent>
</MudLayout>
@code {

    MudTheme _mudTheme = new MudTheme();
    bool _drawerOpen = true;
    bool _isDarkMode = false; 

    protected override void OnInitialized()
    {
        _mudTheme = new MudTheme();
        _mudTheme.LayoutProperties.DrawerWidthLeft = "200px";
        _mudTheme.PaletteDark.DrawerBackground = "#000000";
        _mudTheme.PaletteLight.DrawerBackground = "#27272F";
        _mudTheme.PaletteLight.DrawerText = new MudBlazor.Utilities.MudColor(255, 255, 255, 0.8);
        _mudTheme.PaletteLight.DrawerIcon = new MudBlazor.Utilities.MudColor(255, 255, 255, 0.8);
        _mudTheme.PaletteLight.ActionDefault = new MudBlazor.Utilities.MudColor(255, 255, 255, 0.8);
        _mudTheme.PaletteLight.Primary = new MudBlazor.Utilities.MudColor("#1CCADD");
        _mudTheme.PaletteLight.HoverOpacity = .1;
        _mudTheme.PaletteLight.AppbarBackground = "#27272F";
        _mudTheme.PaletteLight.AppbarText = new MudBlazor.Utilities.MudColor(255, 255, 255, 0.99);
        _mudTheme.PaletteDark.ActionDefault = new MudBlazor.Utilities.MudColor(255, 255, 255, 0.8);
        _mudTheme.PaletteDark.HoverOpacity = .1;
        _mudTheme.PaletteLight.Background = "f1f5f9";
        _mudTheme.Typography.H1.FontSize = "2.3em";
        _mudTheme.Typography.H1.FontWeight = 800;
        _mudTheme.Typography.H2.FontSize = "1.5em";
        _mudTheme.Typography.H2.FontWeight = 400;


        
    }

    void DrawerToggle()
    {
        _drawerOpen = !_drawerOpen;
    }




}